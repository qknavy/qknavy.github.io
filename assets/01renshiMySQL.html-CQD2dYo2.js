import{_ as t,c as i,b as n,a as p,d as a,e as l,r as o,o as c}from"./app-Ck00wrEX.js";const r={},d={href:"https://www.mysql.com/",target:"_blank",rel:"noopener noreferrer"},u={href:"https://dev.mysql.com/doc/refman/8.0/en/system-schema.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://dev.mysql.com/doc/refman/8.0/en/information-schema.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://dev.mysql.com/doc/refman/8.0/en/system-schema.html",target:"_blank",rel:"noopener noreferrer"},v={href:"https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html",target:"_blank",rel:"noopener noreferrer"},b={href:"https://dev.mysql.com/doc/refman/8.0/en/sys-schema.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-system-tablespace.html",target:"_blank",rel:"noopener noreferrer"},y={href:"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_segment",target:"_blank",rel:"noopener noreferrer"};function h(f,s){const e=o("ExternalLinkIcon");return c(),i("div",null,[s[19]||(s[19]=n("h2",{id:"_1-1、官网资料",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-1、官网资料"},[n("span",null,"1.1、官网资料")])],-1)),n("p",null,[n("a",d,[s[0]||(s[0]=a("MySQL官网",-1)),l(e)])]),s[20]||(s[20]=p(`<h2 id="_1-2、mysql安装【docker-compose方式安装】" tabindex="-1"><a class="header-anchor" href="#_1-2、mysql安装【docker-compose方式安装】"><span>1.2、MySQL安装【docker-compose方式安装】</span></a></h2><p><strong>编写docker-compose.yaml</strong></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">services</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">mysql</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image</span><span class="token punctuation">:</span> registry.cn<span class="token punctuation">-</span>hangzhou.aliyuncs.com/xhsx/mysql<span class="token punctuation">:</span><span class="token number">8.0</span></span>
<span class="line">    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always</span>
<span class="line">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql8</span>
<span class="line">    <span class="token key atrule">deploy</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">resources</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token key atrule">limits</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">memory</span><span class="token punctuation">:</span> 1024m</span>
<span class="line">    <span class="token key atrule">environment</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>这里改成你自己的root初始密码<span class="token punctuation">]</span></span>
<span class="line">    <span class="token key atrule">ports</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> 3307<span class="token punctuation">:</span><span class="token number">3306</span></span>
<span class="line">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> ./conf.d/mysqld.cnf<span class="token punctuation">:</span>/etc/mysql/mysql.conf.d/mysqld.cnf</span>
<span class="line">      <span class="token punctuation">-</span> ./datas<span class="token punctuation">:</span>/var/lib/mysql</span>
<span class="line">      <span class="token punctuation">-</span> /usr/share/zoneinfo/Asia/Shanghai<span class="token punctuation">:</span>/etc/localtime</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>说明：</strong></p><ul><li><code>conf.d</code>目录为配置目录，这里是为了将MySQL的<code>mysqld.cnf</code>文件映射出来，方便特殊时候需要改动。</li><li><code>datas</code>目录为数据目录，这里为了后面方便直接在docker宿主机目录查看数据</li><li>最后一个docker挂载点是为了保证容器的时区和宿主机时区一致</li><li><code>ports</code>这里做了一个端口号映射，将容器的3306端口映射成宿主机的3307端口，后续用宿主机的ip+3307端口访问</li><li><code>MYSQL_ROOT_PASSWORD</code>这里记得改成自己的root账号初始密码</li></ul><p>其中mysqld.cnf为随便找的一个MySQL默认的配置文件，具体内容如下：</p><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre><code><span class="line"><span class="token comment"># Copyright (c) 2014, 2016, Oracle and/or its affiliates. All rights reserved.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># This program is free software; you can redistribute it and/or modify</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># it under the terms of the GNU General Public License, version 2.0,</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># as published by the Free Software Foundation.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># This program is also distributed with certain software (including</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># but not limited to OpenSSL) that is licensed under separate terms,</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># as designated in a particular file or component or in included license</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># documentation.  The authors of MySQL hereby grant you an additional</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># permission to link the program and your derivative works with the</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># separately licensed software that they have included with MySQL.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># This program is distributed in the hope that it will be useful,</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># GNU General Public License, version 2.0, for more details.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># You should have received a copy of the GNU General Public License</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># along with this program; if not, write to the Free Software</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># The MySQL  Server configuration file.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># For explanations see</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># http://dev.mysql.com/doc/mysql/en/server-system-variables.html</span></span>
<span class="line"></span>
<span class="line">[mysqld]</span>
<span class="line"><span class="token key attr-name">pid-file</span>        <span class="token punctuation">=</span> <span class="token value attr-value">/var/run/mysqld/mysqld.pid</span></span>
<span class="line"><span class="token key attr-name">socket</span>          <span class="token punctuation">=</span> <span class="token value attr-value">/var/run/mysqld/mysqld.sock</span></span>
<span class="line"><span class="token key attr-name">datadir</span>         <span class="token punctuation">=</span> <span class="token value attr-value">/var/lib/mysql</span></span>
<span class="line"><span class="token comment">#log-error      = /var/log/mysql/error.log</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># By default we only accept connections from localhost</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#bind-address   = 127.0.0.1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span>
<span class="line"></span>
<span class="line"><span class="token key attr-name">symbolic-links</span><span class="token punctuation">=</span><span class="token value attr-value">0</span></span>
<span class="line"><span class="token key attr-name">log-bin</span><span class="token punctuation">=</span><span class="token value attr-value">mysql-bin</span></span>
<span class="line"><span class="token key attr-name">binlog-format</span><span class="token punctuation">=</span><span class="token value attr-value">ROW</span></span>
<span class="line"><span class="token key attr-name">server_id</span><span class="token punctuation">=</span><span class="token value attr-value">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>执行：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 在docker-compose.yaml文件所在目录执行命令：</span></span>
<span class="line"><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>用数据库工具（如navicat）连接</p><p><img src="http://blog.shengxiao.tech/images/image-20241110125601430.png" alt="image-20241110125601430"></p><h2 id="_1-3、mysql结构" tabindex="-1"><a class="header-anchor" href="#_1-3、mysql结构"><span>1.3、MySQL结构</span></a></h2><p><img src="http://blog.shengxiao.tech/images/image-20241110125646534.png" alt="image-20241110125646534"></p><p>可以看到MySQL初始状态下会有四个默认的库：</p>`,14)),n("p",null,[n("a",u,[s[1]||(s[1]=a("官网介绍【8.0】",-1)),l(e)])]),n("ul",null,[n("li",null,[s[4]||(s[4]=n("p",null,"information_schema",-1)),n("blockquote",null,[n("p",null,[s[3]||(s[3]=a("记录Mysql的一些服务器信息（比如innoDB库信息、插件、引擎表等等）。 ",-1)),n("a",m,[s[2]||(s[2]=a("官网介绍",-1)),l(e)])])])])]),s[21]||(s[21]=n("p",null,[n("img",{src:"http://blog.shengxiao.tech/images/image-20241110125802390.png",alt:"image-20241110125802390"})],-1)),n("ul",null,[n("li",null,[s[7]||(s[7]=n("p",null,"mysql",-1)),n("blockquote",null,[n("p",null,[s[6]||(s[6]=a("记录MySQL服务运行的一些元信息。 ",-1)),n("a",k,[s[5]||(s[5]=a("官网介绍",-1)),l(e)])])])])]),s[22]||(s[22]=n("p",null,[n("img",{src:"http://blog.shengxiao.tech/images/image-20241110125838599.png",alt:"image-20241110125838599"})],-1)),n("ul",null,[n("li",null,[s[11]||(s[11]=n("p",null,"performance_schema",-1)),n("blockquote",null,[n("p",null,[s[9]||(s[9]=a("监视Mysql服务器性能系统库 里面包含连接信息等，",-1)),n("a",v,[s[8]||(s[8]=a("官网介绍",-1)),l(e)]),s[10]||(s[10]=a(" 如数据库连接状态：",-1))])])])]),s[23]||(s[23]=n("p",null,[n("img",{src:"http://blog.shengxiao.tech/images/image-20241110125923332.png",alt:"image-20241110125923332"})],-1)),s[24]||(s[24]=n("blockquote",null,[n("p",null,"注意： 这个库里的表都是内存表，不使用磁盘的持久化，里边的数据会在数据库启动时自动填充，并随着数据库服务的停止而丢弃")],-1)),n("ul",null,[n("li",null,[s[14]||(s[14]=n("p",null,"sys",-1)),n("blockquote",null,[n("p",null,[s[13]||(s[13]=a("监视Mysql服务器性能系统库。",-1)),n("a",b,[s[12]||(s[12]=a("官网介绍",-1)),l(e)])])])])]),s[25]||(s[25]=p('<p>在数据目录中，如果我们新建了一个自己的库，则会自动创建一个对应名字的文件夹目录，里边存放的就是该数据库对应的数据</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">`</span>test001<span class="token punctuation">`</span></span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token string">&#39;utf8mb4&#39;</span> <span class="token keyword">COLLATE</span> <span class="token string">&#39;utf8mb4_general_ci&#39;</span><span class="token punctuation">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_1-4、mysql基本概念" tabindex="-1"><a class="header-anchor" href="#_1-4、mysql基本概念"><span>1.4、MySQL基本概念</span></a></h2><p>这里不介绍什么数据库、表、字段、索引等概念，介绍一个我们不怎么关注的概念“表空间”和“存储引擎”</p><p>在我们的日常开发工作中，有多少人会关注表空间这个概念呢？基本上都是直接创建了数据库后就创建了表，而且创建表的方式也简单粗暴，用navicat或者类似数据库管理工具填一下字段名称、字段类型、字段长度、是否非空、默认值等，然后设置好主键和必要的索引就点保存创建表了，其它选项基本上都是用默认的</p><p>新什么事表空间和存储引擎？</p><p>表空间和存储引擎有哪些类型？</p><ul><li>表空间 所谓表空间，可以简单理解为将一组数据从逻辑上归并到一起管理，查阅MySQL官网介绍，其中对于InnoDB存储引擎来说表空间有：</li></ul><p><strong>系统表空间</strong></p><p>系统表空间可以有1个或者多个数据文件，默认情况下，在data目录中创建 一个名为ibdata1的系统表空间数据文件。系统表空间数据文件的大小和数 量由innodb_data_file_path启动选项定义</p><p><img src="http://blog.shengxiao.tech/images/image-20241110130112781.png" alt="image-20241110130112781"></p><p>ibdata1: 文件名</p><p>12M: 文件大小 autoextend 自动扩容，扩容大小由innodb_autoextend_increment决定</p><p><img src="http://blog.shengxiao.tech/images/image-20241110130131102.png" alt="image-20241110130131102"></p>',14)),n("p",null,[s[16]||(s[16]=a("默认扩容增量为64M，如果扩容到64M还不够，我们可以采用多个数据文件来提升系统表空间， 可以设置innodb_data_file_path，但是autoextend 只对最后一个文件生效。",-1)),n("a",g,[s[15]||(s[15]=a("链接",-1)),l(e)])]),s[26]||(s[26]=p('<p>为了减少系统表空间的大小，我们也可以用通用表空间，这样我可以自行 设置哪些表放在哪些表空间</p><p><strong>通用表空间</strong></p><p>与系统表空间类似，通用表空间是可以为多个表提供存储的共享空间，但是这个空间可以由我们自己维护管理</p><p><em>创建通用表空间</em></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLESPACE</span> sx_gen_tsp <span class="token keyword">ADD</span> DATAFILE <span class="token string">&#39;/var/lib/mysql/sx_gen.ibd&#39;</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span><span class="token punctuation">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建成功后再数据目录会多出一个目录：</p><p><img src="http://blog.shengxiao.tech/images/image-20241110130334525.png" alt="image-20241110130334525"></p><p><em>创建表到通用表空间</em></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>test001<span class="token punctuation">`</span></span><span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span>  <span class="token punctuation">(</span></span>\n<span class="line">  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;主键id&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token identifier"><span class="token punctuation">`</span>stu_no<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;学号&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token identifier"><span class="token punctuation">`</span>stu_name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token identifier"><span class="token punctuation">`</span>birthday<span class="token punctuation">`</span></span> <span class="token keyword">date</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;出生日期&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_general_ci <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;家庭住址&#39;</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>\n<span class="line">  <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> <span class="token identifier"><span class="token punctuation">`</span>idx_stu_no<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>stu_no<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span></span>\n<span class="line"><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span> <span class="token operator">=</span> <span class="token keyword">InnoDB</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token operator">=</span> utf8mb4 <span class="token keyword">COLLATE</span> <span class="token operator">=</span> utf8mb4_general_ci <span class="token keyword">COMMENT</span> <span class="token operator">=</span> <span class="token string">&#39;学生表&#39;</span> <span class="token keyword">TABLESPACE</span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>sx_gen_tsp<span class="token punctuation">`</span></span><span class="token punctuation">;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建成功后：</p><p><img src="http://blog.shengxiao.tech/images/image-20241110150605240.png" alt="image-20241110150605240"></p><p>注意：通用表空间只能创建在MySQL已知的目录，比如datadir目录</p><p><strong>独立表空间</strong></p><p>独立表空间为每个表会创建一个文件，真正做到了解耦，易于管理，同时可以更大地利用磁盘空间。从逻辑来讲因为数据文件分散了，对于数据的存取也会更加高效</p><p>创建一个表，用默认InnoDB存储引擎，不指定表空间</p><p><img src="http://blog.shengxiao.tech/images/image-20241110150641004.png" alt="image-20241110150641004"></p><p>查看对应数据库目录下的目录结构，会发现多出来一个名为score.ibd的文件，同样操作再建别的表也会自动创建对应表名的ibd文件</p><p><strong>临时表空间</strong></p><p>在日常开发SQL中，有时候会用到临时表的逻辑，也就是会话是保持，会话结束后这个临时表就会失效。</p><p>创建临时表用create TEMPORARY table语句</p><p>在表空间中，数据都是由大小相同的page页组成的，默认page页大小为16k，可以根据参数innodb_page_size来设置， 参考链接</p>',21)),n("p",null,[s[18]||(s[18]=a("表空间内的数据并不是直接由page页组成的，而是划分为若干个segement段， ",-1)),n("a",y,[s[17]||(s[17]=a("参考链接",-1)),l(e)])]),s[27]||(s[27]=n("blockquote",null,[n("p",null,"每个segement段又是由若干个extent区组成的（如果一个页在16k以下，一个区的大小是1m，如果一个页32k，则一个区为2m，如果一个页64k则一个区4m）。磁盘的分配都是以区为单位分配的，一个区至少可以存储64个page页")],-1)),s[28]||(s[28]=n("hr",null,null,-1)),s[29]||(s[29]=n("p",null,[n("img",{src:"http://blog.shengxiao.tech/images/subscribe1.png",alt:"点我关注"})],-1))])}const w=t(r,[["render",h]]),L=JSON.parse('{"path":"/series/db/mysql/01renshiMySQL.html","title":"1、认识MySQL","lang":"en-US","frontmatter":{"title":"1、认识MySQL","date":"2024-11-10T00:00:00.000Z","categories":["数据库","mysql"],"tags":["数据库","mysql"]},"headers":[{"level":2,"title":"1.1、官网资料","slug":"_1-1、官网资料","link":"#_1-1、官网资料","children":[]},{"level":2,"title":"1.2、MySQL安装【docker-compose方式安装】","slug":"_1-2、mysql安装【docker-compose方式安装】","link":"#_1-2、mysql安装【docker-compose方式安装】","children":[]},{"level":2,"title":"1.3、MySQL结构","slug":"_1-3、mysql结构","link":"#_1-3、mysql结构","children":[]},{"level":2,"title":"1.4、MySQL基本概念","slug":"_1-4、mysql基本概念","link":"#_1-4、mysql基本概念","children":[]}],"git":{"createdTime":1765551376000,"updatedTime":1765551376000,"contributors":[{"name":"qknavy","email":"qknavy@aliyun.com","commits":1}]},"filePathRelative":"series/db/mysql/01认识MySQL.md"}');export{w as comp,L as data};
