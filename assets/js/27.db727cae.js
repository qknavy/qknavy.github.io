(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{539:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1、系统盘扩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、系统盘扩容"}},[s._v("#")]),s._v(" 1、系统盘扩容")]),s._v(" "),t("h3",{attrs:{id:"_1-1、阿里云控制台扩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、阿里云控制台扩容"}},[s._v("#")]),s._v(" 1.1、阿里云控制台扩容")]),s._v(" "),t("h3",{attrs:{id:"_1-2、登录服务器-执行扩容命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、登录服务器-执行扩容命令"}},[s._v("#")]),s._v(" 1.2、登录服务器，执行扩容命令")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("growpart /dev/vda "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("查看分区情况：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -Th\n结果：\n/dev/vda1      ext4       50G   32G   16G  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v("% /\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("可以看到磁盘的使用情况，并且可以看出已经从扩容到了我们的目标大小")])]),s._v(" "),t("h2",{attrs:{id:"_2、新增数据盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、新增数据盘"}},[s._v("#")]),s._v(" 2、新增数据盘")]),s._v(" "),t("h3",{attrs:{id:"_2-1、阿里云控制台新增数据盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、阿里云控制台新增数据盘"}},[s._v("#")]),s._v(" 2.1、阿里云控制台新增数据盘")]),s._v(" "),t("h3",{attrs:{id:"_2-2、查看磁盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、查看磁盘"}},[s._v("#")]),s._v(" 2.2、查看磁盘")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" -l\n\n查看结果：\nDisk /dev/vda: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" GiB, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53687091200")]),s._v(" bytes, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v(" sectors\nUnits: sectors of "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nSector size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logical/physical"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nI/O size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum/optimal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nDisklabel type: dos\nDisk identifier: 0xd6804155\n\nDevice     Boot Start       End   Sectors Size Id Type\n/dev/vda1  *     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857566")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("104855519")]),s._v("  50G "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" Linux\n\n\nDisk /dev/vdb: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" GiB, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21474836480")]),s._v(" bytes, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41943040")]),s._v(" sectors\nUnits: sectors of "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nSector size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logical/physical"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nI/O size "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum/optimal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nDisklabel type: dos\nDisk identifier: 0x21e8f771\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("如果没有看到类似下面输出，则说明没有格式化")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Device     Boot Start      End  Sectors Size Id Type\n/dev/vdb1        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41943039")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41940992")]),s._v("  20G "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" Linux\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-3、执行格式化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3、执行格式化"}},[s._v("#")]),s._v(" 2.3、执行格式化")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" /dev/vdb\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("操作过程需要经过如下几步：")]),s._v(" "),t("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://qknavy-blog.oss-cn-huhehaote.aliyuncs.com/images/WX20210802-183435%402x.png",alt:"格式化"}}),s._v(" "),t("p",[s._v("经过5步之后格式化成功")]),s._v(" "),t("h3",{attrs:{id:"_2-4、挂载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4、挂载"}},[s._v("#")]),s._v(" 2.4、挂载")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("创建挂载目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("mkfs.ext4 /dev/vdb1\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/datas\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("挂载")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/vdb1 /opt/datas\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("但是这样挂载，在服务器重启之后系统不会自动挂载，需要执行下面一步")])]),s._v(" "),t("li",[t("p",[s._v("永久挂载")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" /dev/vdb1 /mnt ext4 defaults "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/fstab\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_2-5、查看挂载情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5、查看挂载情况"}},[s._v("#")]),s._v(" 2.5、查看挂载情况")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lsblk -f\n\n结果输出如下：\nNAME   FSTYPE LABEL UUID                                 MOUNTPOINT\nsr0\nvda\n└─vda1 ext4   /     e2048966-750b-4795-a9a2-xxxxxx-1232 /\nvdb\n└─vdb1 ext4         cae8b62b-fde1-49f3-a6ad-csxxxxyyy-12 /opt/datas\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);